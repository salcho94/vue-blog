import{d as h,r as n,I as _,H as A,b as m,e as t,g as V,f as b,v as x,Q as C,t as L,i as y,j as T,k as B,u as K,R as M,l as N,L as R,q as v}from"./index-CyhgM8E6.js";const S={class:"max-w-sm mx-auto space-y-4"},q={class:"space-y-2 text-[11px]"},G=["disabled"],D=["disabled"],E={key:0,class:"text-[10px] text-red-400"},I={class:"text-[10px] text-slate-500"},F=h({__name:"LoginPage",setup(U){const i=n(""),d=n(""),a=n(!1),r=n(""),u=_(),c=R(),f=N(),l=A(),w=()=>typeof navigator>"u"?!1:/KAKAOTALK/i.test(navigator.userAgent),p=async()=>{r.value="";const s=i.value.trim(),e=d.value.trim();if(!s||!e){l.alert({title:"로그인 오류",message:"이메일과 비밀번호를 모두 입력해주세요.",type:"error"});return}a.value=!0;try{await u.login(s,e);const o=f.query.redirect||"/";c.push(o)}catch(o){const g=o?.message||"로그인에 실패했습니다.";l.alert({title:"로그인 실패",message:g==="Firebase: Error (auth/invalid-email)."?"아이디와 비밀번호를 확인해주세요":g,type:"error"})}finally{a.value=!1}},k=async()=>{if(r.value="",w()){l.alert({title:"브라우저 안내",message:`카카오톡 내 브라우저에서는 구글 로그인이 지원되지 않습니다.
오른쪽 상단 ••• 메뉴에서 "기본 브라우저로 열기"를 선택한 뒤 다시 접속해 주세요.`,type:"info"});return}a.value=!0;try{await u.loginWithGoogle();const s=f.query.redirect||"/";c.push(s)}catch(s){const e=s?.message||"구글 로그인에 실패했습니다.";r.value=e,l.alert({title:"구글 로그인 실패",message:e,type:"error"})}finally{a.value=!1}};return(s,e)=>(v(),m("div",S,[e[4]||(e[4]=t("h1",{class:"text-lg font-semibold text-slate-900 dark:text-slate-100"}," login ",-1)),t("form",{onSubmit:C(p,["prevent"])},[t("div",q,[b(t("input",{"onUpdate:modelValue":e[0]||(e[0]=o=>i.value=o),type:"email",placeholder:"email",class:"w-full rounded-md border border-slate-300 dark:border-slate-700 bg-white dark:bg-slate-950 px-2 py-1"},null,512),[[x,i.value]]),b(t("input",{"onUpdate:modelValue":e[1]||(e[1]=o=>d.value=o),type:"password",placeholder:"password",class:"w-full rounded-md border border-slate-300 dark:border-slate-700 bg-white dark:bg-slate-950 px-2 py-1"},null,512),[[x,d.value]]),t("button",{onClick:p,disabled:a.value,class:"w-full mt-1 rounded-md py-1.5 text-[12px] font-semibold bg-slate-900 text-white hover:bg-slate-800 dark:bg-yellow-400 dark:text-slate-900 dark:hover:bg-yellow-300 disabled:opacity-60 disabled:cursor-not-allowed transition-colors duration-150 focus:outline-none focus:ring-2 focus:ring-slate-900 focus:ring-offset-1 dark:focus:ring-yellow-300 dark:focus:ring-offset-slate-900"}," 로그인 ",8,G),t("button",{onClick:k,disabled:a.value,class:"w-full mt-1 rounded-md py-1.5 text-[12px] font-semibold bg-slate-900 text-white hover:bg-slate-800 dark:bg-yellow-400 dark:text-slate-900 dark:hover:bg-yellow-300 disabled:opacity-60 disabled:cursor-not-allowed transition-colors duration-150 focus:outline-none focus:ring-2 focus:ring-slate-900 focus:ring-offset-1 dark:focus:ring-yellow-300 dark:focus:ring-offset-slate-900"}," Google 로그인 ",8,D)])],32),r.value?(v(),m("p",E,L(r.value),1)):V("",!0),t("p",I,[e[3]||(e[3]=y(" 계정이 없나요? ",-1)),T(K(M),{to:"/signup",class:"ml-1 inline-flex items-center px-1.5 py-0.5 rounded text-[10px] font-semibold text-slate-900 hover:bg-slate-100 dark:text-yellow-300 dark:hover:bg-slate-800 transition-colors"},{default:B(()=>[...e[2]||(e[2]=[y(" 회원가입 ",-1)])]),_:1})])]))}});export{F as default};
