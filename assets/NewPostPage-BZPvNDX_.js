import{d as g,H as f,r as s,b as c,e as a,f as u,g as k,v as n,t as y,V as w,K as h,q as v}from"./index-CqFP1vA1.js";const V={class:"max-w-2xl mx-auto space-y-3"},_={class:"space-y-2 text-[11px]"},B=["disabled"],N={key:0,class:"text-[10px] text-red-400"},C=g({__name:"NewPostPage",setup(P){const i=f();h();const r=s(""),p=s(""),o=s(""),m=s(""),b=s(!1),l=s(""),x=async()=>{if(!i.user){l.value="로그인이 필요합니다.";return}if(!r.value.trim()||!o.value.trim()){l.value="제목과 내용을 입력하세요.";return}b.value=!0,l.value="";try{const d=await w({title:r.value.trim(),summary:p.value.trim(),content:o.value.trim(),tags:m.value.split(",").map(e=>e.trim()).filter(Boolean),authorId:i.user.uid,authorName:i.user.email||"user",isPublished:!0});location.href=`/posts/${d}`}catch(d){l.value=d.message||"등록 실패"}finally{b.value=!1}};return(d,e)=>(v(),c("div",V,[e[4]||(e[4]=a("h1",{class:"text-lg font-semibold text-slate-900 dark:text-slate-100"}," 글 작성 ",-1)),a("div",_,[u(a("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>r.value=t),placeholder:"제목",class:"w-full rounded-md border border-slate-300 dark:border-slate-700 bg-white dark:bg-slate-950 px-2 py-1"},null,512),[[n,r.value]]),u(a("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>p.value=t),placeholder:"요약 (선택)",class:"w-full rounded-md border border-slate-300 dark:border-slate-700 bg-white dark:bg-slate-950 px-2 py-1"},null,512),[[n,p.value]]),u(a("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>m.value=t),placeholder:"태그 (쉼표로 구분)",class:"w-full rounded-md border border-slate-300 dark:border-slate-700 bg-white dark:bg-slate-950 px-2 py-1"},null,512),[[n,m.value]]),u(a("textarea",{"onUpdate:modelValue":e[3]||(e[3]=t=>o.value=t),rows:"10",placeholder:"내용",class:"w-full rounded-md border border-slate-300 dark:border-slate-700 bg-white dark:bg-slate-950 px-2 py-2 font-mono"},null,512),[[n,o.value]]),a("button",{onClick:x,disabled:b.value,class:"px-4 py-2 rounded-md text-[12px] font-semibold bg-black text-white hover:bg-slate-800 disabled:opacity-60 dark:bg-yellow-400 dark:text-black dark:hover:bg-yellow-300"}," 게시 ",8,B),l.value?(v(),c("p",N,y(l.value),1)):k("",!0)])]))}});export{C as default};
