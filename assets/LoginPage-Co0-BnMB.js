import{d as h,r as n,I as _,H as A,b as f,e as o,g as V,f as m,v as b,t as C,i as x,j as L,k as T,u as B,R as K,l as N,L as R,q as y}from"./index-CiPrqIqM.js";const q={class:"max-w-sm mx-auto space-y-4"},G={class:"space-y-2 text-[11px]"},M=["disabled"],S=["disabled"],D={key:0,class:"text-[10px] text-red-400"},I={class:"text-[10px] text-slate-500"},E=h({__name:"LoginPage",setup(U){const i=n(""),d=n(""),a=n(!1),l=n(""),u=_(),c=R(),g=N(),r=A(),v=()=>typeof navigator>"u"?!1:/KAKAOTALK/i.test(navigator.userAgent),w=async()=>{l.value="";const t=i.value.trim(),e=d.value.trim();if(!t||!e){r.alert({title:"로그인 오류",message:"이메일과 비밀번호를 모두 입력해주세요.",type:"error"});return}a.value=!0;try{await u.login(t,e);const s=g.query.redirect||"/";c.push(s)}catch(s){const p=s?.message||"로그인에 실패했습니다.";l.value=p,r.alert({title:"로그인 실패",message:p,type:"error"})}finally{a.value=!1}},k=async()=>{if(l.value="",v()){r.alert({title:"브라우저 안내",message:`카카오톡 내 브라우저에서는 구글 로그인이 지원되지 않습니다.
오른쪽 상단 ••• 메뉴에서 "기본 브라우저로 열기"를 선택한 뒤 다시 접속해 주세요.`,type:"info"});return}a.value=!0;try{await u.loginWithGoogle();const t=g.query.redirect||"/";c.push(t)}catch(t){const e=t?.message||"구글 로그인에 실패했습니다.";l.value=e,r.alert({title:"구글 로그인 실패",message:e,type:"error"})}finally{a.value=!1}};return(t,e)=>(y(),f("div",q,[e[4]||(e[4]=o("h1",{class:"text-lg font-semibold text-slate-900 dark:text-slate-100"}," login ",-1)),o("div",G,[m(o("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>i.value=s),type:"email",placeholder:"email",class:"w-full rounded-md border border-slate-300 dark:border-slate-700 bg-white dark:bg-slate-950 px-2 py-1"},null,512),[[b,i.value]]),m(o("input",{"onUpdate:modelValue":e[1]||(e[1]=s=>d.value=s),type:"password",placeholder:"password",class:"w-full rounded-md border border-slate-300 dark:border-slate-700 bg-white dark:bg-slate-950 px-2 py-1"},null,512),[[b,d.value]]),o("button",{onClick:w,disabled:a.value,class:"w-full mt-1 rounded-md py-1.5 text-[12px] font-semibold bg-slate-900 text-white hover:bg-slate-800 dark:bg-yellow-400 dark:text-slate-900 dark:hover:bg-yellow-300 disabled:opacity-60 disabled:cursor-not-allowed transition-colors duration-150 focus:outline-none focus:ring-2 focus:ring-slate-900 focus:ring-offset-1 dark:focus:ring-yellow-300 dark:focus:ring-offset-slate-900"}," 로그인 ",8,M),o("button",{onClick:k,disabled:a.value,class:"w-full mt-1 rounded-md py-1.5 text-[12px] font-semibold bg-slate-900 text-white hover:bg-slate-800 dark:bg-yellow-400 dark:text-slate-900 dark:hover:bg-yellow-300 disabled:opacity-60 disabled:cursor-not-allowed transition-colors duration-150 focus:outline-none focus:ring-2 focus:ring-slate-900 focus:ring-offset-1 dark:focus:ring-yellow-300 dark:focus:ring-offset-slate-900"}," Google 로그인 ",8,S)]),l.value?(y(),f("p",D,C(l.value),1)):V("",!0),o("p",I,[e[3]||(e[3]=x(" 계정이 없나요? ",-1)),L(B(K),{to:"/signup",class:"ml-1 inline-flex items-center px-1.5 py-0.5 rounded text-[10px] font-semibold text-slate-900 hover:bg-slate-100 dark:text-yellow-300 dark:hover:bg-slate-800 transition-colors"},{default:T(()=>[...e[2]||(e[2]=[x(" 회원가입 ",-1)])]),_:1})])]))}});export{E as default};
