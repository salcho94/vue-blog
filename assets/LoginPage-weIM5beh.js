import{d as k,r as l,I as h,H as _,b as f,e as s,g as A,f as p,v as g,t as V,i as b,j as C,k as L,u as B,R as K,l as N,L as R,q as x}from"./index-Wesqw9le.js";const q={class:"max-w-sm mx-auto space-y-4"},G={class:"space-y-2 text-[11px]"},M=["disabled"],S=["disabled"],T={key:0,class:"text-[10px] text-red-400"},D={class:"text-[10px] text-slate-500"},j=k({__name:"LoginPage",setup(I){const r=l(""),n=l(""),o=l(!1),a=l(""),i=h(),u=R(),c=N(),m=_(),v=()=>typeof navigator>"u"?!1:/KAKAOTALK/i.test(navigator.userAgent),y=async()=>{o.value=!0,a.value="";try{await i.login(r.value,n.value);const t=c.query.redirect||"/";u.push(t)}catch(t){a.value=t.message||"로그인 실패"}finally{o.value=!1}},w=async()=>{if(v()){m.alert({title:"브라우저 안내",message:`카카오톡 내 브라우저에서는 구글 로그인이 지원되지 않습니다.
오른쪽 상단 ••• 메뉴에서 "기본 브라우저로 열기"를 선택한 뒤 다시 접속해 주세요.`,type:"info"});return}o.value=!0,a.value="";try{await i.loginWithGoogle();const t=c.query.redirect||"/";u.push(t)}catch(t){a.value=t.message||"구글 로그인 실패"}finally{o.value=!1}};return(t,e)=>(x(),f("div",q,[e[4]||(e[4]=s("h1",{class:"text-lg font-semibold text-slate-900 dark:text-slate-100"}," login ",-1)),s("div",G,[p(s("input",{"onUpdate:modelValue":e[0]||(e[0]=d=>r.value=d),type:"email",placeholder:"email",class:"w-full rounded-md border border-slate-300 dark:border-slate-700 bg-white dark:bg-slate-950 px-2 py-1"},null,512),[[g,r.value]]),p(s("input",{"onUpdate:modelValue":e[1]||(e[1]=d=>n.value=d),type:"password",placeholder:"password",class:"w-full rounded-md border border-slate-300 dark:border-slate-700 bg-white dark:bg-slate-950 px-2 py-1"},null,512),[[g,n.value]]),s("button",{onClick:y,disabled:o.value,class:"w-full mt-1 rounded-md py-1.5 text-[12px] font-semibold bg-slate-900 text-white hover:bg-slate-800 dark:bg-yellow-400 dark:text-slate-900 dark:hover:bg-yellow-300 disabled:opacity-60 disabled:cursor-not-allowed transition-colors duration-150 focus:outline-none focus:ring-2 focus:ring-slate-900 focus:ring-offset-1 dark:focus:ring-yellow-300 dark:focus:ring-offset-slate-900"}," 로그인 ",8,M),s("button",{onClick:w,disabled:o.value,class:"w-full mt-1 rounded-md py-1.5 text-[12px] font-semibold bg-slate-900 text-white hover:bg-slate-800 dark:bg-yellow-400 dark:text-slate-900 dark:hover:bg-yellow-300 disabled:opacity-60 disabled:cursor-not-allowed transition-colors duration-150 focus:outline-none focus:ring-2 focus:ring-slate-900 focus:ring-offset-1 dark:focus:ring-yellow-300 dark:focus:ring-offset-slate-900"}," Google 로그인 ",8,S)]),a.value?(x(),f("p",T,V(a.value),1)):A("",!0),s("p",D,[e[3]||(e[3]=b(" 계정이 없나요? ",-1)),C(B(K),{to:"/signup",class:"ml-1 inline-flex items-center px-1.5 py-0.5 rounded text-[10px] font-semibold text-slate-900 hover:bg-slate-100 dark:text-yellow-300 dark:hover:bg-slate-800 transition-colors"},{default:L(()=>[...e[2]||(e[2]=[b(" 회원가입 ",-1)])]),_:1})])]))}});export{j as default};
