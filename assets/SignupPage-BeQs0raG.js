import{d as v,r as o,I as k,H as h,b as V,e as s,f as p,v as m,t as S,i as g,j as _,k as C,u as B,R as N,L as R,q as T}from"./index-aNmRnDS9.js";const U={class:"max-w-sm mx-auto space-y-4"},D={class:"space-y-2 text-[11px]"},L=["disabled"],M={class:"text-[10px] text-slate-500"},q=v({__name:"SignupPage",setup(P){const d=o(""),n=o(""),i=o(""),l=o(!1),b=k(),x=R(),a=h(),w=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,y=async()=>{const r=d.value.trim(),e=n.value,t=i.value;if(!r){a.alert({title:"회원가입 오류",message:"이메일을 입력하세요.",type:"error"});return}if(!w.test(r)){a.alert({title:"회원가입 오류",message:"올바른 이메일 형식을 입력하세요.",type:"error"});return}if(e.length<6){a.alert({title:"회원가입 오류",message:"비밀번호는 6자 이상이어야 합니다.",type:"error"});return}if(e!==t){a.alert({title:"회원가입 오류",message:"비밀번호가 일치하지 않습니다.",type:"error"});return}l.value=!0;try{await b.signup(r,e),a.alert({title:"회원가입 완료",message:"성공적으로 가입되었습니다.",type:"success"}),x.push("/")}catch(c){const f=c?.code||c?.message||"";let u="회원가입에 실패했습니다.";f.includes("auth/email-already-in-use")?u="이미 사용 중인 이메일입니다.":f.includes("auth/invalid-email")&&(u="올바른 이메일 형식을 입력하세요."),a.alert({title:"회원가입 오류",message:u,type:"error"})}finally{l.value=!1}};return(r,e)=>(T(),V("div",U,[e[5]||(e[5]=s("h1",{class:"text-lg font-semibold text-slate-900 dark:text-slate-100"}," sign up ",-1)),s("div",D,[p(s("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>d.value=t),type:"email",placeholder:"email",class:"w-full rounded-md border border-slate-300 dark:border-slate-700 bg-white dark:bg-slate-950 px-2 py-1"},null,512),[[m,d.value]]),p(s("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>n.value=t),type:"password",placeholder:"password (6자 이상)",class:"w-full rounded-md border border-slate-300 dark:border-slate-700 bg-white dark:bg-slate-950 px-2 py-1"},null,512),[[m,n.value]]),p(s("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>i.value=t),type:"password",placeholder:"password 확인",class:"w-full rounded-md border border-slate-300 dark:border-slate-700 bg-white dark:bg-slate-950 px-2 py-1"},null,512),[[m,i.value]]),s("button",{onClick:y,disabled:l.value,class:"w-full mt-1 rounded-md py-1.5 text-[12px] font-semibold bg-slate-900 text-white hover:bg-slate-800 dark:bg-yellow-400 dark:text-slate-900 dark:hover:bg-yellow-300 disabled:opacity-60 disabled:cursor-not-allowed transition-colors duration-150 focus:outline-none focus:ring-2 focus:ring-slate-900 focus:ring-offset-1 dark:focus:ring-yellow-300 dark:focus:ring-offset-slate-900"},S(l.value?"가입 중…":"회원가입"),9,L)]),s("p",M,[e[4]||(e[4]=g(" 이미 계정이 있나요? ",-1)),_(B(N),{to:"/login",class:"ml-1 inline-flex items-center px-1.5 py-0.5 rounded text-[10px] font-semibold text-slate-900 hover:bg-slate-100 dark:text-yellow-300 dark:hover:bg-slate-800 transition-colors"},{default:C(()=>[...e[3]||(e[3]=[g(" 로그인 ",-1)])]),_:1})])]))}});export{q as default};
